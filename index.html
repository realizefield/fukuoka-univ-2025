<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ç¦å²¡å¤§å­¦ è‹±èª å®Œå…¨å­¦ç¿’æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ ã€æ±ºå®šç‰ˆã€‘</title>
  <style>
    :root { --fu-red: #a00000; --highlight-yellow: rgba(255, 255, 0, 0.3); }
    body { font-family: "Hiragino Kaku Gothic ProN", "Meiryo", sans-serif; max-width: 1100px; margin: 0 auto; padding: 20px; background: #fdfdfd; color: #333; line-height: 1.8; }
    .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid var(--fu-red); padding-bottom: 10px; margin-bottom: 20px; }
    h1 { color: var(--fu-red); margin: 0; font-size: 1.4em; }
    .card { background: white; border: 1px solid #ddd; padding: 25px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
    .btn { background: var(--fu-red); color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.3s; }
    .btn:hover { background: #d00000; transform: translateY(-2px); }
    .btn-sub { background: #666; margin-right: 5px; }
    .btn-orange { background: #e67e22; }
    .sentence-block { border-left: 5px solid var(--fu-red); padding: 15px 20px; margin-bottom: 10px; background: #fff; cursor: pointer; position: relative; }
    .highlight { background-color: var(--highlight-yellow) !important; }
    .eng-text { font-size: 1.2em; font-weight: 500; color: #111; display: block; margin-bottom: 8px; }
    .dict-word { color: #d63031; font-weight: bold; border-bottom: 2px solid #ffadad; cursor: pointer; }
    #word-popup { position: absolute; background: white; border: 2px solid var(--fu-red); padding: 15px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); display: none; z-index: 5000; min-width: 220px; }
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; justify-content: center; align-items: center; }
    .modal-content { background: white; width: 90%; max-width: 850px; padding: 30px; border-radius: 15px; max-height: 85vh; overflow-y: auto; }
    .info-box { background: #f9f9f9; padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid var(--fu-red); }
    .test-section { display: none; animation: fadeIn 0.5s; }
    .test-q { margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
    .choice-btn { display: block; width: 100%; max-width: 450px; margin: 10px auto; padding: 12px; border: 1px solid #ddd; border-radius: 8px; background: #fff; cursor: pointer; font-size: 1.1em; }
    .choice-btn:hover { background: #f0f0f0; }
    .footnote { background: #eee; padding: 15px; border-radius: 8px; font-size: 0.9em; margin-top: 20px; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</head>
<body>

<div id="learning-ui">
  <div class="header">
    <h1>ğŸ« ç¦å²¡å¤§å­¦ è‹±èª å®Œå…¨å­¦ç¿’æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ </h1>
    <button class="btn" onclick="showTest()">ğŸ¯ åˆæ ¼åˆ¤å®šãƒ†ã‚¹ãƒˆã«é€²ã‚€</button>
  </div>

  <div class="card">
    <strong>ğŸ”Š èª­ä¸Šã’é€Ÿåº¦</strong>: <input type="range" id="v-speed" min="0.5" max="1.5" step="0.1" value="1.0">
    <p><small>â€»å˜èªã‚’ã‚¯ãƒªãƒƒã‚¯ã§ã€Œæ„å‘³ãƒ»ç™ºéŸ³ãƒ»ä¿å­˜ã€ã€‚æ–‡ç« ã‚’ã‚¯ãƒªãƒƒã‚¯ã§ã€Œé»„è‰²ãƒãƒ¼ã‚«ãƒ¼ã€ã€‚</small></p>
  </div>

  <div class="card">
    <h2>ğŸ“– é•·æ–‡ç²¾èª­ãƒ»å®Œå…¨è§£èª¬</h2>
    <div id="main-content"></div>
    <div class="footnote">
      <strong>ã€æ³¨ï¼ˆè„šæ³¨ï¼‰ã€‘</strong> visa(s)ï¼šãƒ“ã‚¶ï¼ŒæŸ»è¨¼ / expireï¼šæœ‰åŠ¹æœŸé™ãŒåˆ‡ã‚Œã‚‹
    </div>
  </div>

  <div class="card">
    <h2>ğŸŒŸ ä¿å­˜ã—ãŸå˜èªå¸³</h2>
    <div id="my-vocab-list"></div>
    <div id="vocab-test-area" style="display:none; text-align: center; margin-top:20px;">
      <button class="btn btn-orange" onclick="startVocabTest()">ğŸ“™ ä¿å­˜ã—ãŸå˜èªã®ãƒ†ã‚¹ãƒˆã‚’å§‹ã‚ã‚‹</button>
      <button class="btn btn-sub" style="background:#e74c3c" onclick="clearVocab()">å˜èªå¸³ãƒªã‚»ãƒƒãƒˆ</button>
    </div>
  </div>
</div>

<div id="test-section" class="test-section">
  <div class="header">
    <h1>ğŸ¯ ç¦å²¡å¤§å­¦ åˆæ ¼åˆ¤å®šãƒ†ã‚¹ãƒˆ</h1>
    <button class="btn btn-sub" onclick="showLearning()">â¬… ç²¾èª­ãƒ»å®Œå…¨è§£èª¬ã«æˆ»ã‚‹</button>
  </div>
  <div class="card">
    <div id="test-content"></div>
    <div style="text-align:center; margin-top:30px;"><button class="btn" onclick="judge()">åˆ¤å®šã™ã‚‹</button></div>
    <div id="result-area" style="margin-top:20px;"></div>
  </div>
</div>

<div id="vocab-test-section" class="test-section">
  <div class="header"><h1>ğŸ“™ å˜èªå¸³ãƒ†ã‚¹ãƒˆ</h1><button class="btn btn-sub" onclick="showLearning()">â¬… æˆ»ã‚‹</button></div>
  <div class="card" style="text-align:center;">
    <div id="v-test-q-num" style="color:#888;"></div>
    <h2 id="v-test-word" style="font-size:3em; color:var(--fu-red); margin:30px 0;"></h2>
    <div id="v-test-choices"></div>
    <div id="v-test-feedback" style="margin-top:20px; font-weight:bold; height:30px;"></div>
  </div>
</div>

<div id="word-popup"></div>
<div id="modal" class="modal" onclick="closeM()">
  <div class="modal-content" onclick="event.stopPropagation()">
    <h3 id="m-title" style="color:var(--fu-red); border-bottom:2px solid var(--fu-red); padding-bottom:5px;"></h3>
    <div id="m-body"></div>
    <button class="btn" onclick="closeM()" style="width:100%; margin-top:20px;">è§£èª¬ã‚’é–‰ã˜ã‚‹</button>
  </div>
</div>

<script>
// å…¨29æ–‡ãƒ‡ãƒ¼ã‚¿ï¼ˆExcelå†…å®¹ã‚’å®Œå…¨è»¢è¨˜ï¼‰
const syntaxData = [
  { e: "In Japan, â€œidentityâ€ and â€œopportunityâ€ are two factors that affect the choices of parents who wish to raise their children as bilinguals â€” people able to speak two languages.", t: "æ—¥æœ¬ã«ãŠã„ã¦ã€ã€Œã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€ã¨ã€Œæ©Ÿä¼šã€ã¯ã€å­ä¾›ã‚’ãƒã‚¤ãƒªãƒ³ã‚¬ãƒ«ï¼ˆ2ã¤ã®è¨€èªã‚’è©±ã™ã“ã¨ãŒã§ãã‚‹äººã€…ï¼‰ã¨ã—ã¦è‚²ã¦ãŸã„ã¨é¡˜ã†è¦ªã®é¸æŠã«å½±éŸ¿ã‚’ä¸ãˆã‚‹2ã¤ã®è¦å› ã§ã™ã€‚", g: "factors ã‚’å…ˆè¡Œè©ã¨ã™ã‚‹ä¸»æ ¼ã®é–¢ä¿‚ä»£åè© that ãŒ affect... ã‚’å°ãã€parents ã‚’å…ˆè¡Œè©ã¨ã™ã‚‹ who ãŒ wish to... ã‚’å°ã„ã¦ã„ã¾ã™ã€‚raise A as B ã§ã€ŒAã‚’Bã¨ã—ã¦è‚²ã¦ã‚‹ã€ã¨ã„ã†æ„å‘³ã«ãªã‚Šã¾ã™ã€‚æ–‡æœ«ã®ãƒ€ãƒƒã‚·ãƒ¥ï¼ˆâ€”ï¼‰ä»¥é™ã¯ã€bilinguals ã‚’å…·ä½“çš„ã«èª¬æ˜ã™ã‚‹åŒæ ¼è¡¨ç¾ã¨ãªã£ã¦ã„ã¾ã™ã€‚", p: "raise A as Bï¼šAã‚’Bã¨ã—ã¦è‚²ã¦ã‚‹ / bilingualï¼š2è¨€èªä½µç”¨è€… / factorï¼šè¦å› ", ans: "" },
  { e: "Below are three ( A ) this may be said to be true.", t: "ä»¥ä¸‹ã«ã€ã“ã®ã“ã¨ãŒã„ã‹ã«çœŸå®Ÿã§ã‚ã‚‹ã¨è¨€ãˆã‚‹ã‹ã‚’èª¬æ˜ã™ã‚‹3ã¤ã®çŸ­ã„ç‰©èªãŒã‚ã‚Šã¾ã™ã€‚", g: "å ´æ‰€ã‚’è¡¨ã™å‰¯è© Below ãŒæ–‡é ­ã«æ¥ãŸãŸã‚ã®å€’ç½®å½¢ï¼ˆV+Sï¼‰ã§ã™ã€‚æœ¬æ¥ã®èªé †ã¯ Three short stories that explain how... are below. ã¨ãªã‚Šã¾ã™ã€‚be said to be true ã§ã€ŒçœŸå®Ÿã§ã‚ã‚‹ã¨è¨€ã‚ã‚Œã‚‹ã€ã¨ã„ã†å—èº«ã®è¡¨ç¾ã§ã™ã€‚", p: "be said to beï¼šã€œã§ã‚ã‚‹ã¨è¨€ã‚ã‚Œã‚‹ / explainï¼šèª¬æ˜ã™ã‚‹", ans: "7", hint: "ã“ã‚Œã‹ã‚‰3ã¤ã®ç‰©èªã‚’ç´¹ä»‹ã™ã‚‹å°å…¥æ–‡ã§ã™ã€‚å¾Œã«ç¶šãå†…å®¹ã‚’èª¬æ˜ã™ã‚‹ã€Œç‰©èªã€ã‚’è¡¨ã™è¨€è‘‰ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚" },
  { e: "Joshua graduated from an international university in Japan many years ago.", t: "ã‚¸ãƒ§ã‚·ãƒ¥ã‚¢ã¯ä½•å¹´ã‚‚å‰ã«æ—¥æœ¬ã®å›½éš›å¤§å­¦ã‚’å’æ¥­ã—ã¾ã—ãŸã€‚", g: "graduate ã¯è‡ªå‹•è©ã§ã™ã®ã§ã€å’æ¥­ã—ãŸå¯¾è±¡ï¼ˆå¤§å­¦ãªã©ï¼‰ã‚’å¾Œã‚ã«ç½®ãå ´åˆã¯ã€å‰ç½®è©ã® from ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚", p: "graduate fromï¼šã€œã‚’å’æ¥­ã™ã‚‹ / international universityï¼šå›½éš›å¤§å­¦", ans: "" },
  { e: "Instead of returning to the Philippines, he found employment at a company and eventually gained permanent resident status.", t: "ãƒ•ã‚£ãƒªãƒ”ãƒ³ã«å¸°ã‚‹ä»£ã‚ã‚Šã«ã€å½¼ã¯ä¼šç¤¾ã«è·ã‚’è¦‹ã¤ã‘ã€æœ€çµ‚çš„ã«æ°¸ä½æ¨©ã‚’å¾—ã¾ã—ãŸã€‚", g: "Instead of ã€œing ã§ã€Œã€œã™ã‚‹ä»£ã‚ã‚Šã«ã€ã¨ã„ã†é‡è¦ãªè­²æ­©ã®è¡¨ç¾ã§ã™ã€‚eventually ã¯ã€Œæœ€çµ‚çš„ã«ãƒ»ã¤ã„ã«ã€ã¨ã„ã†æ„å‘³ã®å‰¯è©ã§ã™ã€‚permanent resident status ã¯ã€Œæ°¸ä½æ¨©ï¼ˆæ°¸ä½è€…ã®èº«åˆ†ï¼‰ã€ã¨ã„ã†å®šå‹çš„ãªè¡¨ç¾ã§ã™ã€‚", p: "Instead ofï¼šã€œã®ä»£ã‚ã‚Šã« / eventuallyï¼šã¤ã„ã« / permanent resident statusï¼šæ°¸ä½æ¨©", ans: "" },
  { e: "Some time later, he married a Japanese woman, Mimi, and they started a family.", t: "ã—ã°ã‚‰ãã—ã¦ã€å½¼ã¯æ—¥æœ¬äººã®å¥³æ€§ãƒŸãƒŸã¨çµå©šã—ã€å®¶åº­ã‚’ç¯‰ãã¾ã—ãŸã€‚", g: "married ã¯ä»–å‹•è©ã§ã™ã®ã§ã€married with ã¨ã—ãªã„ã‚ˆã†ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚start a family ã¯ã€ãŸã å®¶æ—ã«ãªã‚‹ã ã‘ã§ãªãã€Œå­ä¾›ã‚’æŒã¤ã€å®¶åº­ã‚’ç¯‰ãã€ã¨ã„ã†ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã§ä½¿ã‚ã‚Œã¾ã™ã€‚", p: "marriedï¼šã€œã¨çµå©šã—ãŸ / start a familyï¼šå®¶åº­ã‚’ç¯‰ã", ans: "" },
  { e: "At home, Joshua and Mimi ( B ) in English and Japanese.", t: "å®¶åº­ã§ã¯ã€ã‚¸ãƒ§ã‚·ãƒ¥ã‚¢ã¨ãƒŸãƒŸã¯è‹±èªã¨æ—¥æœ¬èªã§å­ä¾›ãŸã¡ã¨è©±ã™ã‚ˆã†æ„è­˜çš„ãªåŠªåŠ›ã‚’ã—ã¾ã—ãŸã€‚", g: "make a conscious effort to do ã§ã€Œæ„è­˜çš„ã«ã€œã—ã‚ˆã†ã¨åŠªåŠ›ã™ã‚‹ã€ã¨ã„ã†å¼·ã„æ„å¿—ã‚’è¡¨ã™ç†Ÿèªã§ã™ã€‚Joshuaã¨MimiãŒå®¶åº­ã§è¡Œã£ã¦ã„ãŸè¨€èªæ•™è‚²ã®æ–¹é‡ã‚’èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚", p: "make an effort toï¼šã€œã—ã‚ˆã†ã¨åŠªåŠ›ã™ã‚‹ / consciousï¼šæ„è­˜çš„ãª", ans: "9", hint: "å®¶åº­å†…ã§ã‚¸ãƒ§ã‚·ãƒ¥ã‚¢ãŸã¡ãŒå­ä¾›ã«å¯¾ã—ã¦ã€æ—¥æœ¬èªã¨è‹±èªã‚’ã€Œã©ã†ä½¿ãŠã†ã¨ã—ãŸã‹ã€ã‚’è€ƒãˆã¾ã—ã‚‡ã†ã€‚" },
  { e: "However, Joshua still strongly identified as a native speaker of Tagalog, one of the official languages of the Philippines.", t: "ã—ã‹ã—ã€ã‚¸ãƒ§ã‚·ãƒ¥ã‚¢ã¯ä¾ç„¶ã¨ã—ã¦ã€ãƒ•ã‚£ãƒªãƒ”ãƒ³ã®å…¬ç”¨èªã®ä¸€ã¤ã§ã‚ã‚‹ã‚¿ã‚¬ãƒ­ã‚°èªã®ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã§ã‚ã‚‹ã¨ã„ã†å¼·ã„è‡ªèªã‚’æŒã£ã¦ã„ã¾ã—ãŸã€‚", g: "identify as... ã§ã€Œã€œã¨ã—ã¦ã®ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’æŒã¤ã€è‡ªèªã™ã‚‹ã€ã¨ã„ã†æ„å‘³ã«ãªã‚Šã¾ã™ã€‚Tagalog ã®ç›´å¾Œã®ã‚«ãƒ³ãƒã¯åŒæ ¼ã§ã€ã‚¿ã‚¬ãƒ­ã‚°èªãŒä½•ã§ã‚ã‚‹ã‹ã‚’è£œè¶³èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚", p: "identify asï¼šã€œã¨ã—ã¦ã®è‡ªèªã‚’æŒã¤ / official languageï¼šå…¬ç”¨èª", ans: "" },
  { e: "One summer, his family took a trip there so that his two pre-school children could meet their cousins of roughly the same age.", t: "ã‚ã‚‹å¤ã€å½¼ã®å®¶æ—ã¯ã€2äººã®æœªå°±å­¦å…ãŒã»ã¼åŒå¹´é½¢ã®ã„ã¨ã“ãŸã¡ã«ä¼šãˆã‚‹ã‚ˆã†ã«ã¨ã€ãƒ•ã‚£ãƒªãƒ”ãƒ³ã¸æ—…è¡Œã—ã¾ã—ãŸã€‚", g: "so that S can [could] ... ã§ã€ŒSãŒã€œã§ãã‚‹ã‚ˆã†ã«ã€ã¨ã„ã†ç›®çš„ã‚’è¡¨ã™å‰¯è©ç¯€ã‚’ä½œã‚Šã¾ã™ã€‚roughly ã¯æ•°å­—ãªã©ã‚’ä¿®é£¾ã—ã¦ã€ŒãŠã‚ˆãã€ã–ã£ã¨ã€ã¨ã„ã†æ„å‘³ã«ãªã‚Šã¾ã™ã€‚", p: "so that...ï¼šã€œã§ãã‚‹ã‚ˆã†ã« / pre-schoolï¼šå°±å­¦å‰ã® / roughlyï¼šãŠã‚ˆã", ans: "" },
  { e: "They had a fun time, but unfortunately, the kids ( C ) Joshua decided he would begin teaching them Tagalog to prepare them for their next visit to the Philippines.", t: "å½¼ã‚‰ã¯æ¥½ã—ã„æ™‚é–“ã‚’éã”ã—ã¾ã—ãŸãŒã€ã‚ã„ã«ãã€å­ä¾›ãŸã¡ã¯ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¨ã‚‹ã®ã«éå¸¸ã«è‹¦åŠ´ã—ãŸãŸã‚ã€ã‚¸ãƒ§ã‚·ãƒ¥ã‚¢ã¯æ¬¡å›ã®ãƒ•ã‚£ãƒªãƒ”ãƒ³è¨ªå•ã«å‚™ãˆã¦å½¼ã‚‰ã«ã‚¿ã‚¬ãƒ­ã‚°èªã‚’æ•™ãˆå§‹ã‚ã‚ˆã†ã¨æ±ºå¿ƒã—ã¾ã—ãŸã€‚", g: "so ... that ã€œï¼ˆéå¸¸ã«â€¦ãªã®ã§ã€œã ï¼‰ã®æ§‹æ–‡ãŒéš ã‚Œã¦ã„ã¾ã™ã€‚struggled to communicate ã§ã€Œæ„æ€ç–é€šã«è‹¦åŠ´ã—ãŸã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚ã“ã‚ŒãŒ Joshua ãŒæ•™è‚²æ–¹é‡ã‚’å¤‰ãˆã‚‹ç†ç”±ï¼ˆdecidedï¼‰ã¨ãªã‚Šã¾ã—ãŸã€‚", p: "unfortunatelyï¼šã‚ã„ã«ã / struggle toï¼šã€œã™ã‚‹ã®ã«è‹¦åŠ´ã™ã‚‹ / prepare forï¼šã€œã«å‚™ãˆã‚‹", ans: "1", hint: "unfortunatelyï¼ˆã‚ã„ã«ãï¼‰ã«ç¶šãã€å¦å®šçš„ãªçµæœã‚’æ¢ã—ã¾ã™ã€‚å­ä¾›ãŒå¾“å…„å¼Ÿã¨ã†ã¾ãè©±ã›ãªã‹ã£ãŸçŠ¶æ³ã‚’æŒ‡ã™é¸æŠè‚¢ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚" },
  { e: "The case of Joshua and Mimi shows how parents make language choices to ensure that children develop a healthy sense of identity â€” to know who they are.", t: "ã‚¸ãƒ§ã‚·ãƒ¥ã‚¢ã¨ãƒŸãƒŸã®äº‹ä¾‹ã¯ã€å­ä¾›ãŸã¡ãŒå¥å…¨ãªã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®æ„Ÿè¦šã‚’é¤Šã†ï¼ˆè‡ªåˆ†ãŒä½•è€…ã‹ã‚’çŸ¥ã‚‹ï¼‰ã“ã¨ã‚’ç¢ºå®Ÿã«ã™ã‚‹ãŸã‚ã«ã€è¦ªãŒã„ã‹ã«è¨€èªã®é¸æŠã‚’è¡Œã†ã‹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚", g: "ensure that... ã¯ã€Œã€œã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºå®Ÿã«ã™ã‚‹ã€ä¿è¨¼ã™ã‚‹ã€ã¨ã„ã†å‹•è©ã§ã™ã€‚who they are ã¯ã€Œè‡ªåˆ†ãŸã¡ãŒèª°ã§ã‚ã‚‹ã‹ã€ã¨ã„ã†é–“æ¥ç–‘å•æ–‡ã§ã™ã€‚", p: "ensureï¼šç¢ºå®Ÿã«ã™ã‚‹ / healthy sense of identityï¼šå¥å…¨ãªã‚¢ã‚¤åŒä¸€æ€§ã®æ„Ÿè¦š", ans: "" },
  { e: "Emi grew up in a Japanese home a few hours from Tokyo.", t: "ã‚¨ãƒŸã¯æ±äº¬ã‹ã‚‰æ•°æ™‚é–“ã®ã¨ã“ã‚ã«ã‚ã‚‹æ—¥æœ¬ã®å®¶åº­ã§è‚²ã¡ã¾ã—ãŸã€‚", g: "grow upï¼ˆè‚²ã¤ï¼‰ã®éå»å½¢ grew up ãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚a few hours from... ã¯ã€Œã€œã‹ã‚‰æ•°æ™‚é–“ã®è·é›¢ã€ã¨ã„ã†å ´æ‰€ã®é™å®šã§ã™ã€‚", p: "grow upï¼šè‚²ã¤ / a few hours fromï¼šã€œã‹ã‚‰æ•°æ™‚é–“", ans: "" },
  { e: "Her parents hardly spoke English at all.", t: "å½¼å¥³ã®ä¸¡è¦ªã¯è‹±èªã‚’å…¨ãã¨è¨€ã£ã¦ã„ã„ã»ã©è©±ã—ã¾ã›ã‚“ã§ã—ãŸã€‚", g: "hardly ã¯æº–å¦å®šèªã§ã€Œã»ã¨ã‚“ã©ã€œãªã„ã€ã‚’æ„å‘³ã—ã€æ–‡æœ«ã® at all ã¨çµ„ã¿åˆã‚ã•ã‚‹ã“ã¨ã§ã€Œå…¨ãã€œãªã„ã€ã¨ã„ã†å¼·ã„å¦å®šã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚", p: "hardly... at allï¼šå…¨ãã€œãªã„", ans: "" },
  { e: "Although they were employed at different companies, they both noticed that co-workers who were highly skilled in English seemed to regularly get promotions ahead of them.", t: "åˆ¥ã€…ã®ä¼šç¤¾ã«å‹¤ã‚ã¦ã„ã¾ã—ãŸãŒã€è‹±èªãŒéå¸¸ã«å ªèƒ½ãªåŒåƒšãŒè‡ªåˆ†ãŸã¡ã‚ˆã‚Šã‚‚å…ˆã«å®šæœŸçš„ã«æ˜‡é€²ã—ã¦ã„ã‚‹ã‚ˆã†ã ã¨äºŒäººã¨ã‚‚æ°—ã¥ãã¾ã—ãŸã€‚", g: "Although ã¯ã€Œã€œã ã‘ã‚Œã©ã‚‚ã€ã¨ã„ã†è­²æ­©ã®æ¥ç¶šè©ã§ã™ã€‚co-workers ã‚’é–¢ä¿‚ä»£åè© who ãŒä¿®é£¾ã—ã¦ã„ã¾ã™ã€‚ahead of them ã¯ã€Œå½¼ã‚‰ã‚ˆã‚Šã‚‚å…ˆã«ã€å½¼ã‚‰ã‚’è¿½ã„è¶Šã—ã¦ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚", p: "skilled inï¼šã€œã«ç†Ÿç·´ã—ãŸ / promotionï¼šæ˜‡é€² / ahead ofï¼šã€œã‚ˆã‚Šå…ˆã«", ans: "" },
  { e: "They recognized that this is just the way global businesses operate, so they ( D ).", t: "å½¼ã‚‰ã¯ã€ã“ã‚ŒãŒã‚°ãƒ­ãƒ¼ãƒãƒ«ä¼æ¥­ã®ã‚ã‚Šæ–¹ãªã®ã ã¨èªè­˜ã—ã¦ã„ãŸã®ã§ã€ãã‚Œã»ã©è½èƒ†ã¯ã—ã¾ã›ã‚“ã§ã—ãŸã€‚", g: "the way S V ã¯ã€ŒSãŒVã™ã‚‹ã‚„ã‚Šæ–¹ãƒ»æ–¹æ³•ã€ã‚’è¡¨ã—ã¾ã™ã€‚operate ã¯ã€Œé‹å–¶ã•ã‚Œã‚‹ã€æ©Ÿèƒ½ã™ã‚‹ã€ã¨ã„ã†æ„å‘³ã€‚so ã¯çµæœã‚’å°ãæ¥ç¶šè©ã§ã™ã€‚", p: "recognizeï¼šèªè­˜ã™ã‚‹ / operateï¼šé‹å–¶ã•ã‚Œã‚‹ / disappointedï¼šè½èƒ†ã—ãŸ", ans: "4", hint: "æ˜‡é€²ã§ããªã„ç†ç”±ãŒå®ŸåŠ›ï¼ˆè‹±èªï¼‰ã®å·®ã ã¨ç´å¾—ã—ã¦ã„ã‚‹ã®ã§ã€è‡ªåˆ†ãŸã¡ã®ç¾çŠ¶ã‚’ã©ã†å—ã‘æ­¢ã‚ãŸã‹ã‚’è€ƒãˆã¾ã—ã‚‡ã†ã€‚" },
  { e: "The future would be brighter for their only daughter, though.", t: "ã—ã‹ã—ã€ä¸€äººå¨˜ã®æœªæ¥ã¯ã‚ˆã‚Šæ˜ã‚‹ã„ã‚‚ã®ã«ãªã‚‹ã ã‚ã†ã€‚", g: "æ–‡æœ«ã® though ã¯ã€Œã—ã‹ã—ãªãŒã‚‰ã€ã¨ã„ã†å‰¯è©çš„ãªç”¨æ³•ã§ã™ã€‚æœªæ¥ã«å¯¾ã™ã‚‹å¸Œæœ›ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚", p: "brighterï¼šã‚ˆã‚Šæ˜ã‚‹ã„ / thoughï¼šã—ã‹ã—ãªãŒã‚‰", ans: "" },
  { e: "Firmly resolved, they carried out a lengthy search, then found a unique private school for her where courses would be taught in both Japanese and English.", t: "å¼·ãæ±ºå¿ƒã—ãŸå½¼ã‚‰ã¯ã€é•·æœŸã«ã‚ãŸã‚‹æ¢ç´¢ã‚’è¡Œã„ã€æ—¥æœ¬èªã¨è‹±èªã®ä¸¡æ–¹ã§æˆæ¥­ãŒè¡Œã‚ã‚Œã‚‹ç§ç«‹å­¦æ ¡ã‚’è¦‹ã¤ã‘ã¾ã—ãŸã€‚", g: "Firmly resolved ã¯åˆ†è©æ§‹æ–‡ã§ã€Œå¼·ãæ±ºæ„ã—ã¦ã€ã¨ã„ã†çŠ¶æ…‹ã‚’è¡¨ã—ã¾ã™ã€‚é–¢ä¿‚å‰¯è© where ãŒ a unique private school ã‚’å…ˆè¡Œè©ã¨ã—ã¦ä¿®é£¾ã—ã¦ã„ã¾ã™ã€‚", p: "firmly resolvedï¼šå …ãæ±ºå¿ƒã—ã¦ / lengthy searchï¼šé•·ã„æ¢ç´¢", ans: "" },
  { e: "In Emiâ€™s case, becoming bilingual had far less to do with identity; her Japanese parents were acting on a perceived need to give their child what they believed to be the best chance possible to succeed in a changing world.", t: "ã‚¨ãƒŸã®äº‹ä¾‹ã§ã¯ã€ãƒã‚¤ãƒªãƒ³ã‚¬ãƒ«ã«ãªã‚‹ã“ã¨ã¯ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨ã¯ã»ã¨ã‚“ã©é–¢ä¿‚ãŒãªãã€æˆåŠŸã®ãƒãƒ£ãƒ³ã‚¹ã‚’ä¸ãˆã‚‹ãŸã‚ã®è¦ªã®è¡Œå‹•ã§ã—ãŸã€‚", g: "have less to do with... ã§ã€Œã€œã¨ã‚ã¾ã‚Šé–¢ä¿‚ãŒãªã„ã€ã®æ¯”è¼ƒç´šã€‚what they believed... ã¯é–¢ä¿‚ä»£åè© what ã‚’ä½¿ã£ãŸåè©ç¯€ã§ã€Œå½¼ã‚‰ãŒã€œã ã¨ä¿¡ã˜ã¦ã„ãŸã‚‚ã®ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚perceived ã¯ã€Œèªè­˜ã•ã‚ŒãŸã€æ„Ÿã˜ã‚‰ã‚ŒãŸã€ã¨ã„ã†æ„å‘³ã®éå»åˆ†è©å½¢å®¹è©ã§ã™ã€‚", p: "have less to do withï¼šã€œã¨ã‚ã¾ã‚Šé–¢ä¿‚ãŒãªã„ / succeedï¼šæˆåŠŸã™ã‚‹", ans: "" },
  { e: "Kanako and Masa met in the US while attending college as exchange students.", t: "ã‚«ãƒŠã‚³ã¨ãƒã‚µã¯ã€äº¤æ›ç•™å­¦ç”Ÿã¨ã—ã¦å¤§å­¦ã«é€šã£ã¦ã„ã‚‹é–“ã«ã‚¢ãƒ¡ãƒªã‚«ã§å‡ºä¼šã„ã¾ã—ãŸã€‚", g: "while (they were) attending ã¨åˆ†è©æ§‹æ–‡ã®ã‚ˆã†ãªå½¢ã«ãªã£ã¦ã„ã¾ã™ã€‚exchange student ã¯ã€Œäº¤æ›ç•™å­¦ç”Ÿã€ã§ã™ã€‚", p: "exchange studentï¼šäº¤æ›ç•™å­¦ç”Ÿ / while attendingï¼šé€šå­¦ã—ã¦ã„ã‚‹é–“ã«", ans: "" },
  { e: "Over a period of four years, they made numerous close friends and began to feel completely at home in the culture; their English abilities reached extremely high levels too.", t: "4å¹´é–“ã§å¤šãã®å‹äººãŒã§ãã€æ–‡åŒ–ã«å®Œå…¨ã«é¦´æŸ“ã‚“ã§ã„ã‚‹ã¨æ„Ÿã˜ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚å½¼ã‚‰ã®è‹±èªåŠ›ã‚‚æ¥µã‚ã¦é«˜ã„æ°´æº–ã«é”ã—ã¾ã—ãŸã€‚", g: "feel at home ã¯ã€Œè‡ªåˆ†ã®å®¶ã«ã„ã‚‹ã‚ˆã†ã«ãã¤ã‚ãã€é¦´æŸ“ã‚€ã€ã¨ã„ã†ç†Ÿèªã§ã™ã€‚ã‚»ãƒŸã‚³ãƒ­ãƒ³ï¼ˆ;ï¼‰ã¯æ¥ç¶šè©ã®å½¹å‰²ã‚’æœãŸã—ã€æ–‡ã‚’ç¹‹ã„ã§ã„ã¾ã™ã€‚extremely ã¯ã€Œæ¥µã‚ã¦ã€ã¨ã„ã†å¼·èª¿å‰¯è©ã§ã™ã€‚", p: "numerousï¼šå¤šæ•°ã® / feel at homeï¼šé¦´æŸ“ã‚€ / extremely highï¼šæ¥µã‚ã¦é«˜ã„", ans: "" },
  { e: "When their visas expired, they had no choice but to move back to Tokyo.", t: "ãƒ“ã‚¶ã®æœŸé™ãŒåˆ‡ã‚ŒãŸã¨ãã€å½¼ã‚‰ã¯æ±äº¬ã«æˆ»ã‚‹ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚", g: "have no choice but to do ã¯ã€Œã€œã™ã‚‹ã‚ˆã‚Šä»–ã«é“ãŒãªã„ã€ã€œã›ã–ã‚‹ã‚’å¾—ãªã„ã€ã¨ã„ã†æ¥µã‚ã¦é‡è¦ãªæ…£ç”¨è¡¨ç¾ã§ã™ã€‚expire ã¯ã€Œï¼ˆæœŸé™ãŒï¼‰åˆ‡ã‚Œã‚‹ã€ã¨ã„ã†å‹•è©ã§ã™ã€‚", p: "expireï¼šæœŸé™ãŒåˆ‡ã‚Œã‚‹ / have no choice but toï¼šã€œã›ã–ã‚‹ã‚’å¾—ãªã„", ans: "" },
  { e: "They got married, worked hard, studied, and ( E ) to the US.", t: "å½¼ã‚‰ã¯çµå©šã—ã€æ‡¸å‘½ã«åƒãã€å‹‰å¼·ã—ã€ãã—ã¦ã‚¢ãƒ¡ãƒªã‚«ã«åˆæ³•çš„ã«æˆ»ã‚‹æ©Ÿä¼šã‚’æ¨¡ç´¢ã—ã¾ã—ãŸã€‚", g: "sought ã¯ seekï¼ˆæ¢ã™ï¼‰ã®éå»å½¢ã§ã™ã€‚seek out ã§ã€Œæ¢ã—å‡ºã™ã€æ¨¡ç´¢ã™ã‚‹ã€ã¨ãªã‚Šã¾ã™ã€‚legally ã¯ã€Œæ³•å¾‹çš„ã«ã€åˆæ³•çš„ã«ã€ã¨ã„ã†å‰¯è©ã§ã™ã€‚", p: "seek outï¼šæ¢ã—å‡ºã™ / legallyï¼šåˆæ³•çš„ã« / opportunityï¼šæ©Ÿä¼š", ans: "6", hint: "ã‚¢ãƒ¡ãƒªã‚«ã§ã®ç”Ÿæ´»ã«é¦´æŸ“ã‚“ã§ã„ãŸäºŒäººãŒã€æ—¥æœ¬ã«æˆ»ã£ãŸå¾Œã§ã€Œã‚‚ã†ä¸€åº¦ã©ã†ã—ãŸã„ã€ã¨è€ƒãˆãŸã‹ã‚’è€ƒãˆã¾ã—ã‚‡ã†ã€‚" },
  { e: "A few years went by and they started a family.", t: "æ•°å¹´ãŒçµŒã¡ã€å½¼ã‚‰ã¯å®¶åº­ã‚’ç¯‰ãã¾ã—ãŸã€‚", g: "go by ã¯ã€Œï¼ˆæ™‚é–“ãŒï¼‰çµŒéã™ã‚‹ã€ã¨ã„ã†æ„å‘³ã®å¥å‹•è©ã§ã™ã€‚start a family ã¯ä»¥å‰ã®æ–‡ã¨åŒæ§˜ã€Œå®¶åº­ã‚’ç¯‰ãã€å­ä¾›ã‚’æŒã¤ã€ã§ã™ã€‚", p: "go byï¼šçµŒéã™ã‚‹ / start a familyï¼šå®¶åº­ã‚’ç¯‰ã", ans: "" },
  { e: "Kanako and Masa decided that as far as possible they would speak only English in the home in order to prepare their kids for a future life overseas.", t: "å½¼ã‚‰ã¯å­ä¾›ãŸã¡ã®å°†æ¥ã®æµ·å¤–ç”Ÿæ´»ã«å‚™ãˆã‚‹ãŸã‚ã€å®¶åº­å†…ã§ã¯ã§ãã‚‹é™ã‚Šè‹±èªã ã‘ã‚’è©±ã™ã“ã¨ã«æ±ºã‚ã¾ã—ãŸã€‚", g: "as far as possible ã§ã€Œå¯èƒ½ãªé™ã‚Šã€ã§ãã‚‹ã ã‘ã€ã¨ã„ã†æ„å‘³ã€‚in order to ã¯ã€Œã€œã™ã‚‹ãŸã‚ã«ã€ã¨ã„ã†ç›®çš„ã‚’è¡¨ã™ä¸å®šè©ã®å¼·èª¿å½¢ã§ã™ã€‚", p: "as far as possibleï¼šå¯èƒ½ãªé™ã‚Š / overseasï¼šæµ·å¤–ã¸", ans: "" },
  { e: "As you can imagine, this is easier said than done.", t: "ã”æƒ³åƒã®é€šã‚Šã€ã“ã‚Œã¯è¨€ã†ã¯æ˜“ãè¡Œã†ã¯é›£ã—ã§ã™ã€‚", g: "Easier said than done ã¯è‹±èªã®ã“ã¨ã‚ã–ã§ã€ç›´è¨³ã™ã‚‹ã¨ã€Œãªã•ã‚Œã‚‹ã‚ˆã‚Šè¨€ã‚ã‚Œã‚‹æ–¹ãŒç°¡å˜ã ã€ã¤ã¾ã‚Šã€Œå®Ÿè¡Œã¯é›£ã—ã„ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚", p: "easier said than doneï¼šè¨€ã†ã¯æ˜“ãè¡Œã†ã¯é›£ã—", ans: "" },
  { e: "The young ones still needed to function in Japanese society while the parents waited â€” job offers and visa approvals were taking more time to secure than anticipated.", t: "ä¸¡è¦ªãŒå¾…ã¤é–“ã€å¹¼ã„å­ä¾›ãŸã¡ã¯æ—¥æœ¬ç¤¾ä¼šã§ç”Ÿæ´»ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãƒ“ã‚¶ã®æ‰¿èªã‚‚äºˆæƒ³ä»¥ä¸Šã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã¾ã—ãŸã€‚", g: "function ã¯å‹•è©ã§ã€Œæ©Ÿèƒ½ã™ã‚‹ã€ç”Ÿæ´»ã™ã‚‹ã€å½¹å‰²ã‚’æœãŸã™ã€ã¨ã„ã†æ„å‘³ã€‚more time than anticipated ã§ã€Œäºˆæƒ³ï¼ˆæœŸå¾…ï¼‰ã—ã¦ã„ãŸã‚ˆã‚Šã‚‚å¤šãã®æ™‚é–“ã€ã¨ã„ã†æ¯”è¼ƒè¡¨ç¾ã§ã™ã€‚secure ã¯ã€Œç¢ºä¿ã™ã‚‹ã€æ‰‹ã«å…¥ã‚Œã‚‹ã€ã§ã™ã€‚", p: "functionï¼šæ´»å‹•ã™ã‚‹ / secureï¼šç¢ºä¿ã™ã‚‹ / anticipatedï¼šäºˆæƒ³ã•ã‚ŒãŸ", ans: "" },
  { e: "Eventually, the dream of Masa and Kanako came true.", t: "ã¤ã„ã«ã€ãƒã‚µã¨ã‚«ãƒŠã‚³ã®å¤¢ã¯å®Ÿç¾ã—ã¾ã—ãŸã€‚", g: "come true ã¯ã€Œï¼ˆå¤¢ãªã©ãŒï¼‰å®Ÿç¾ã™ã‚‹ã€å¶ã†ã€ã¨ã„ã†å®šç•ªã®ç†Ÿèªã§ã™ã€‚Eventually ã¯ã€Œã¤ã„ã«ã€çµå±€ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚", p: "come trueï¼šå®Ÿç¾ã™ã‚‹ / eventuallyï¼šã¤ã„ã«", ans: "" },
  { e: "They continue to have high hopes for raising their children as bilinguals in the US; the motive for them involves a mixture of identity and opportunity.", t: "å½¼ã‚‰ã¯ã‚¢ãƒ¡ãƒªã‚«ã§å­ä¾›ãŸã¡ã‚’ãƒã‚¤ãƒªãƒ³ã‚¬ãƒ«ã¨ã—ã¦è‚²ã¦ã‚‹ã“ã¨ã«é«˜ã„å¸Œæœ›ã‚’æŒã¡ç¶šã‘ã¦ã„ã¾ã™ã€‚ãã®å‹•æ©Ÿã«ã¯ã€ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨æ©Ÿä¼šã®æ··åˆãŒé–¢ã‚ã£ã¦ã„ã¾ã™ã€‚", g: "raising... ã¯å‹•åè©ã§ã€Œè‚²ã¦ã‚‹ã“ã¨ã€ã€‚motive ã¯ã€Œå‹•æ©Ÿã€ã€‚involve ã¯ã€Œã€œã‚’ä¼´ã†ã€ã€œã«é–¢ã‚ã‚‹ã€ã¨ã„ã†æ„å‘³ã®å‹•è©ã§ã™ã€‚", p: "motiveï¼šå‹•æ©Ÿ / involveï¼šã€œã‚’ä¼´ã† / mixtureï¼šæ··åˆ", ans: "" },
  { e: "These short tales express how approaches to bilingualism vary from case to case, suggesting how great a challenge it would be for an entire society to set policies on bilingual education since ( F ) play a role in decision-making among families.", t: "ã“ã‚Œã‚‰ã®ç‰©èªã¯äº‹ä¾‹ã«ã‚ˆã‚Šæ§˜ã€…ã§ã‚ã‚Šã€å®¶æ—ã®æ„æ€æ±ºå®šã«ã¯å€‹äººçš„ãªå•é¡ŒãŒå½“ç„¶å½¹å‰²ã‚’æœãŸã™ãŸã‚ã€æ•™è‚²æ”¿ç­–ã‚’å®šã‚ã‚‹å›°é›£ã•ã‚’ç¤ºå”†ã—ã¦ã„ã¾ã™ã€‚", g: "vary from case to case ã§ã€Œäº‹ä¾‹ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã€ã€‚suggesting ã¯ç¾åœ¨åˆ†è©ã«ã‚ˆã‚‹ä»˜å¸¯çŠ¶æ³ã€‚since ã¯ç†ç”±ï¼ˆã€œãªã®ã§ï¼‰ã‚’è¡¨ã™æ¥ç¶šè©ã€‚play a role in... ã§ã€Œã€œã«ãŠã„ã¦å½¹å‰²ã‚’æœãŸã™ã€ã¨ã„ã†é‡è¦è¡¨ç¾ã§ã™ã€‚", p: "varyï¼šç•°ãªã‚‹ / play a role inï¼šã€œã§å½¹å‰²ã‚’æœãŸã™ / decision-makingï¼šæ„æ€æ±ºå®š", ans: "2", hint: "ç¤¾ä¼šãŒä¸€å¾‹ã«æ±ºã‚ã‚‹ã®ãŒé›£ã—ã„ç†ç”±ã¨ã—ã¦ã€å„å®¶åº­ã®æ±ºå®šï¼ˆdecision-makingï¼‰ã«ã¯ä½•ãŒé–¢ã‚ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã—ã‚‡ã†ã‹ã€‚" }
];

// å˜èªãƒ‡ãƒ¼ã‚¿ï¼ˆå…¨41èªï¼‰
const vocabData = {
  "identity": { r: "ã‚¢ã‚¤ã€ãƒ‡ã€‘ãƒ³ãƒ†ã‚£ãƒ†ã‚£", m: "è‡ªå·±åŒä¸€æ€§" },
  "opportunity": { r: "ã‚¢ãƒ‘ã€ãƒ†ãƒ¥ã€‘ãƒ‹ãƒ†ã‚£", m: "æ©Ÿä¼š" },
  "factor": { r: "ã€ãƒ•ã‚¡ã€‘ã‚¯ã‚¿ãƒ¼", m: "è¦å› " },
  "affect": { r: "ã‚¢ã€ãƒ•ã‚§ã€‘ã‚¯ãƒˆ", m: "å½±éŸ¿ã‚’ä¸ãˆã‚‹" },
  "graduate": { r: "ã‚°ã€ãƒ©ã€‘ã‚¸ãƒ¥ã‚¨ã‚¤ãƒˆ", m: "å’æ¥­ã™ã‚‹" },
  "employment": { r: "ã‚¤ãƒ ãƒ—ã€ãƒ­ã‚£ã€‘ãƒ¡ãƒ³ãƒˆ", m: "è·ã€é›‡ç”¨" },
  "eventually": { r: "ã‚¤ã€ãƒ´ã‚§ã€‘ãƒ³ãƒãƒ¥ã‚¢ãƒªãƒ¼", m: "ã¤ã„ã«" },
  "permanent": { r: "ã€ãƒ‘ã€‘ãƒ¼ãƒãƒãƒ³ãƒˆ", m: "æ°¸ä¹…çš„ãª" },
  "status": { r: "ã‚¹ã€ãƒ†ã€‘ã‚¤ã‚¿ã‚¹", m: "åœ°ä½" },
  "conscious": { r: "ã€ã‚«ã€‘ãƒ³ã‚·ãƒ£ã‚¹", m: "æ„è­˜çš„ãª" },
  "effort": { r: "ã€ã‚¨ã€‘ãƒ•ã‚©ãƒ¼ãƒˆ", m: "åŠªåŠ›" },
  "official": { r: "ã‚ªã€ãƒ•ã‚£ã€‘ã‚·ãƒ£ãƒ«", m: "å…¬å¼ã®" },
  "roughly": { r: "ã€ãƒ©ã€‘ãƒ•ãƒªãƒ¼", m: "ãŠã‚ˆã" },
  "struggle": { r: "ã‚¹ãƒˆã€ãƒ©ã€‘ã‚°ãƒ«", m: "è‹¦é—˜ã™ã‚‹" },
  "ensure": { r: "ã‚¤ãƒ³ã€ã‚·ãƒ¥ã€‘ã‚¢", m: "ç¢ºå®Ÿã«ã™ã‚‹" },
  "hardly": { r: "ã€ãƒã€‘ãƒ¼ãƒ‰ãƒªãƒ¼", m: "ã»ã¨ã‚“ã©ã€œãªã„" },
  "promotion": { r: "ãƒ—ãƒ­ã€ãƒ¢ã€‘ãƒ¼ã‚·ãƒ§ãƒ³", m: "æ˜‡é€²" },
  "recognize": { r: "ã€ãƒ¬ã€‘ã‚«ã‚°ãƒŠã‚¤ã‚º", m: "èªè­˜ã™ã‚‹" },
  "operate": { r: "ã€ã‚¢ã€‘ãƒ‘ãƒ¬ã‚¤ãƒˆ", m: "é‹å–¶ã™ã‚‹" },
  "disappoint": { r: "ãƒ‡ã‚£ã‚µã€ãƒã€‘ã‚¤ãƒ³ãƒˆ", m: "å¤±æœ›ã•ã›ã‚‹" },
  "firmly": { r: "ã€ãƒ•ã‚¡ã€‘ãƒ¼ãƒ ãƒªãƒ¼", m: "å …ã" },
  "resolve": { r: "ãƒªã€ã‚¾ã€‘ãƒ«ãƒ´", m: "æ±ºå¿ƒã™ã‚‹" },
  "lengthy": { r: "ã€ãƒ¬ã€‘ãƒ³ã‚°ã‚¹ã‚£ãƒ¼", m: "é•·ã„" },
  "perceive": { r: "ãƒ‘ã€ã‚¹ã‚£ã€‘ãƒ¼ãƒ´", m: "çŸ¥è¦šã™ã‚‹" },
  "succeed": { r: "ã‚µã‚¯ã€ã‚¹ã‚£ã€‘ãƒ¼ãƒ‰", m: "æˆåŠŸã™ã‚‹" },
  "numerous": { r: "ã€ãƒ‹ãƒ¥ã€‘ãƒ¼ãƒãƒ©ã‚¹", m: "å¤šæ•°ã®" },
  "extremely": { r: "ã‚¤ã‚¯ã‚¹ãƒˆã€ãƒªã€‘ãƒ¼ãƒ ãƒªãƒ¼", m: "æ¥µã‚ã¦" },
  "expire": { r: "ã‚¤ã‚¯ã‚¹ã€ãƒ‘ã€‘ã‚¤ã‚¢", m: "æœŸé™ãŒåˆ‡ã‚Œã‚‹" },
  "legally": { r: "ã€ãƒªã€‘ãƒ¼ã‚¬ãƒªãƒ¼", m: "åˆæ³•çš„ã«" },
  "function": { r: "ã€ãƒ•ã‚¡ã€‘ãƒ³ã‚¯ã‚·ãƒ§ãƒ³", m: "æ©Ÿèƒ½ã™ã‚‹" },
  "approval": { r: "ã‚¢ãƒ—ã€ãƒ«ã€‘ãƒ¼ãƒ´ã‚¡ãƒ«", m: "æ‰¿èª" },
  "anticipate": { r: "ã‚¢ãƒ³ã€ãƒ†ã‚£ã€‘ã‚¹ã‚£ãƒšã‚¤ãƒˆ", m: "äºˆæƒ³ã™ã‚‹" },
  "motive": { r: "ã€ãƒ¢ã€‘ã‚¦ãƒ†ã‚£ãƒ´", m: "å‹•æ©Ÿ" },
  "mixture": { r: "ã€ãƒŸã€‘ã‚¯ã‚¹ãƒãƒ£", m: "æ··åˆ" },
  "policy": { r: "ã€ãƒã€‘ãƒªã‚¹ã‚£ãƒ¼", m: "æ”¿ç­–" },
  "vary": { r: "ã€ãƒ´ã‚§ã€‘ã‚¢ãƒª", m: "ç•°ãªã‚‹" },
  "bilingual": { r: "ãƒã‚¤ã€ãƒªã€‘ãƒ³ã‚®ãƒ¥ã‚¢ãƒ«", m: "2è¨€èªä½µç”¨è€…" },
  "overseas": { r: "ã‚ªã‚¦ãƒ´ã‚¡ã€ã‚¹ã‚£ã€‘ãƒ¼ã‚º", m: "æµ·å¤–ã¸" },
  "healthy": { r: "ã€ãƒ˜ã€‘ãƒ«ã‚¹ã‚£ãƒ¼", m: "å¥å…¨ãª" },
  "unique": { r: "ãƒ¦ã€ãƒ‹ã€‘ãƒ¼ã‚¯", m: "ç‹¬ç‰¹ãª" },
  "success": { r: "ã‚µã‚¯ã€ã‚»ã€‘ã‚¹", m: "æˆåŠŸ" }
};

const choiceTexts = {
  "1": "struggled to communicate so much that",
  "2": "personal issues naturally",
  "3": "were unwilling to eat the food there, so",
  "4": "did not feel too disappointed",
  "5": "could not stop thinking about",
  "6": "sought out opportunities to legally return",
  "7": "short stories that explain how",
  "8": "examples from everyday life of",
  "9": "made a conscious effort to speak with their children"
};

let myVocab = JSON.parse(localStorage.getItem('fukuokaVocab') || '[]');
let currentTestIdx = 0;
let testQueue = [];

function init() {
  const main = document.getElementById('main-content');
  syntaxData.forEach((d, i) => {
    let eHtml = d.e;
    Object.keys(vocabData).forEach(v => {
      const reg = new RegExp(`\\b${v}\\b`, 'gi');
      eHtml = eHtml.replace(reg, `<span class="dict-word" onclick="pop(event,'${v}')">$&</span>`);
    });
    eHtml = eHtml.replace(/\( ([A-F]) \)/g, `<span class="blank-space" style="color:var(--fu-red); font-weight:bold;">($1)</span>`);

    const div = document.createElement('div');
    div.className = 'sentence-block';
    div.onclick = function(e) { if(e.target.className !== 'dict-word') this.classList.toggle('highlight'); };
    div.innerHTML = `
      <span class="eng-text"><strong>${i+1}.</strong> ${eHtml}</span>
      <div style="margin-top:8px;">
        <button class="btn" style="padding:4px 10px; font-size:0.8em;" onclick="speak('${d.e}')">ğŸ”Š å†ç”Ÿ</button>
        <button class="btn btn-sub" style="padding:4px 10px; font-size:0.8em;" onclick="toggleT(${i})">å’Œè¨³</button>
        <button class="btn btn-sub" style="padding:4px 10px; font-size:0.8em;" onclick="openM(${i})">å®Œå…¨è§£èª¬</button>
      </div>
      <div id="trans-${i}" style="display:none; color:var(--fu-red); font-weight:bold; margin-top:10px; background:#fffafa; padding:10px; border-radius:5px;">${d.t}</div>
    `;
    main.appendChild(div);
  });
  renderVocab();
}

function showLearning() {
  document.getElementById('learning-ui').style.display = 'block';
  document.getElementById('test-section').style.display = 'none';
  document.getElementById('vocab-test-section').style.display = 'none';
}

function showTest() {
  document.getElementById('learning-ui').style.display = 'none';
  document.getElementById('test-section').style.display = 'block';
  document.getElementById('vocab-test-section').style.display = 'none';
  const testArea = document.getElementById('test-content');
  const blanks = syntaxData.filter(d => d.ans !== "");
  testArea.innerHTML = blanks.map((d, i) => {
    const letter = ["A","B","C","D","E","F"][i];
    let q = d.e.replace(/\( ([A-F]) \)/, `<select id="q-${i}"><option value="">--é¸æŠ--</option>${Object.keys(choiceTexts).map(k => `<option value="${k}">${k}. ${choiceTexts[k]}</option>`).join('')}</select>`);
    return `<div class="test-q"><strong>å• ${letter}:</strong><br>${q}</div>`;
  }).join('');
}

function judge() {
  const blanks = syntaxData.filter(d => d.ans !== "");
  let score = 0;
  let mistakes = [];
  blanks.forEach((d, i) => {
    if(document.getElementById(`q-${i}`).value === d.ans) score++;
    else mistakes.push({letter: ["A","B","C","D","E","F"][i], hint: d.hint, e: d.e, g: d.g, p: d.p});
  });

  const res = document.getElementById('result-area');
  if(score === blanks.length) {
    res.innerHTML = `<div class="card" style="background:#e8f8f5; border-color:#2ecc71; text-align:center;">
      <h2 style="color:#2ecc71;">ğŸ‰ ç´ æ™´ã‚‰ã—ã„ï¼æº€ç‚¹åˆæ ¼ã§ã™ï¼ ğŸ‰</h2>
      <p>ã™ã¹ã¦ã®å•é¡Œã‚’æ­£è§£ã—ã¾ã—ãŸã€‚ç¦å²¡å¤§å­¦ã®èª­è§£åŠ›ã¯ãƒãƒƒãƒãƒªã§ã™ï¼</p>
    </div>`;
  } else {
    res.innerHTML = `<div class="card" style="border-color:var(--fu-red);">
      <h2 style="color:var(--fu-red);">åˆ¤å®šï¼šã‚‚ã†ä¸€åº¦å¾©ç¿’ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼</h2>
      <p>æ­£è§£æ•°ï¼š${score} / ${blanks.length}</p>
      ${mistakes.map(m => `<div class="info-box"><strong>ç©ºæ‰€ ${m.letter} ã®ãƒ’ãƒ³ãƒˆï¼š</strong><br>${m.hint}</div>`).join('')}
    </div>`;
  }
  res.innerHTML += `<h3>å„å•é¡Œã®è§£èª¬</h3>` + blanks.map((d, i) => `<button class="btn btn-sub" style="margin:5px;" onclick="openM_raw('${d.e}', '${d.g}', '${d.p}')">å• ${["A","B","C","D","E","F"][i]} ã®è§£èª¬</button>`).join('');
}

function openM_raw(e, g, p) {
  document.getElementById('m-title').innerText = `è§£èª¬`;
  document.getElementById('m-body').innerHTML = `<div class="info-box"><strong>æ–‡æ³•ãƒ»æ§‹æˆ</strong><br>${g}</div><div class="info-box"><strong>è¡¨ç¾ãƒ»ç†Ÿèª</strong><br>${p}</div>`;
  document.getElementById('modal').style.display = 'flex';
}

function startVocabTest() {
  if(myVocab.length < 2) return alert("ãƒ†ã‚¹ãƒˆã«ã¯2èªä»¥ä¸Šã®ä¿å­˜ãŒå¿…è¦ã§ã™ã€‚");
  document.getElementById('learning-ui').style.display = 'none';
  document.getElementById('vocab-test-section').style.display = 'block';
  testQueue = [...myVocab].sort(() => Math.random() - 0.5);
  currentTestIdx = 0;
  showNextVocab();
}

function showNextVocab() {
  if(currentTestIdx >= testQueue.length) { alert("çµ‚äº†ï¼"); return showLearning(); }
  const word = testQueue[currentTestIdx];
  const info = vocabData[word.toLowerCase()];
  document.getElementById('v-test-q-num').innerText = `${currentTestIdx + 1} / ${testQueue.length}`;
  document.getElementById('v-test-word').innerText = word;
  let choices = [info.m];
  let others = Object.values(vocabData).map(v => v.m).filter(m => m !== info.m);
  choices.push(...others.sort(() => Math.random() - 0.5).slice(0, 3));
  choices.sort(() => Math.random() - 0.5);
  document.getElementById('v-test-choices').innerHTML = choices.map(c => `<button class="choice-btn" onclick="checkVAns('${c}', '${info.m}')">${c}</button>`).join('');
  document.getElementById('v-test-feedback').innerText = "";
}

function checkVAns(s, c) {
  const f = document.getElementById('v-test-feedback');
  if(s === c) { f.style.color="green"; f.innerText="æ­£è§£ï¼"; setTimeout(() => { currentTestIdx++; showNextVocab(); }, 800) }
  else { f.style.color="red"; f.innerText=`æ®‹å¿µã€æ­£è§£ã¯ã€Œ${c}ã€ã§ã™ã€‚`; setTimeout(() => { currentTestIdx++; showNextVocab(); }, 1500) }
}

function pop(e, w) {
  e.stopPropagation();
  const p = document.getElementById('word-popup');
  const info = vocabData[w.toLowerCase()];
  p.innerHTML = `<strong>${w}</strong><br><small>${info.r}</small><br><b>${info.m}</b><br><button class="btn" onclick="saveVocab('${w}')" style="font-size:0.7em; margin-top:5px;">ä¿å­˜</button>`;
  p.style.display = 'block'; p.style.left = e.pageX + 'px'; p.style.top = e.pageY + 'px';
  setTimeout(() => p.style.display = 'none', 4000);
}

function saveVocab(w) { if(!myVocab.includes(w)) { myVocab.push(w); localStorage.setItem('fukuokaVocab', JSON.stringify(myVocab)); renderVocab(); alert("ä¿å­˜ã—ã¾ã—ãŸ"); } }
function renderVocab() {
  const l = document.getElementById('my-vocab-list');
  const a = document.getElementById('vocab-test-area');
  if(myVocab.length > 0) { l.innerHTML = myVocab.map(w => `<div style="border:1px solid #a00000; display:inline-block; margin:5px; padding:5px; border-radius:5px;">${w}</div>`).join(''); a.style.display='block'; }
  else { l.innerHTML = "<p>ä¿å­˜ã—ãŸå˜èªã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>"; a.style.display='none'; }
}
function clearVocab() { if(confirm("ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿ")) { myVocab = []; localStorage.removeItem('fukuokaVocab'); renderVocab(); } }
function toggleT(i) { const el = document.getElementById(`trans-${i}`); el.style.display = el.style.display === 'none' ? 'block' : 'none'; }
function openM(i) {
  const d = syntaxData[i];
  document.getElementById('m-title').innerText = `No.${i+1} å®Œå…¨è§£èª¬`;
  document.getElementById('m-body').innerHTML = `<div class="info-box"><strong>æ–‡æ³•ãƒ»æ§‹æˆ</strong><br>${d.g}</div><div class="info-box"><strong>é‡è¦è¡¨ç¾</strong><br>${d.p}</div>`;
  document.getElementById('modal').style.display = 'flex';
}
function closeM() { document.getElementById('modal').style.display = 'none'; }

init();
</script>
</body>
</html>
